"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_pages-dir-node_components_LDRViewer_tsx";
exports.ids = ["_pages-dir-node_components_LDRViewer_tsx"];
exports.modules = {

/***/ "(pages-dir-node)/./components/LDRViewer.tsx":
/*!**********************************!*\
  !*** ./components/LDRViewer.tsx ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls.js */ \"three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var three_examples_jsm_loaders_LDrawLoader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/loaders/LDrawLoader.js */ \"three/examples/jsm/loaders/LDrawLoader.js\");\n/* harmony import */ var three_examples_jsm_materials_LDrawConditionalLineMaterial_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/materials/LDrawConditionalLineMaterial.js */ \"three/examples/jsm/materials/LDrawConditionalLineMaterial.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([three__WEBPACK_IMPORTED_MODULE_2__, three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_3__, three_examples_jsm_loaders_LDrawLoader_js__WEBPACK_IMPORTED_MODULE_4__, three_examples_jsm_materials_LDrawConditionalLineMaterial_js__WEBPACK_IMPORTED_MODULE_5__]);\n([three__WEBPACK_IMPORTED_MODULE_2__, three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_3__, three_examples_jsm_loaders_LDrawLoader_js__WEBPACK_IMPORTED_MODULE_4__, three_examples_jsm_materials_LDrawConditionalLineMaterial_js__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\nconst LDRViewerComponent = ({ modelPath })=>{\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sceneRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const rendererRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cameraRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const controlsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const modelGroupRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const loadingManagerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const isLoadingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const currentModelPathRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)('');\n    const isInitializedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Create loading manager only once\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LDRViewerComponent.useEffect\": ()=>{\n            if (loadingManagerRef.current) return;\n            const manager = new three__WEBPACK_IMPORTED_MODULE_2__.LoadingManager();\n            // Implement path resolution strategy similar to Three.js packLDrawModel\n            manager.setURLModifier({\n                \"LDRViewerComponent.useEffect\": (url)=>{\n                    // console.log('Original URL:', url);\n                    // Normalize path separators\n                    let normalized = url.replace(/\\\\/g, '/');\n                    // Handle s\\ prefix for subparts (convert s\\file.dat to s/file.dat)\n                    if (normalized.includes('s/') || normalized.match(/s[\\\\\\/]/)) {\n                        const parts = normalized.split(/[\\\\\\/]/);\n                        const lastTwo = parts.slice(-2);\n                        if (lastTwo[0] === 's') {\n                            // This is a subpart reference\n                            normalized = `/ldraw/parts/s/${lastTwo[1]}`;\n                            // console.log('Subpart detected, normalized to:', normalized);\n                            return normalized;\n                        }\n                    }\n                    // Extract the filename and check for subdirectory (like s/)\n                    const urlParts = normalized.split('/');\n                    const filename = urlParts[urlParts.length - 1].toLowerCase();\n                    const hasSubdir = urlParts.length >= 2 && urlParts[urlParts.length - 2] === 's';\n                    // Define possible path prefixes to try\n                    const pathPrefixes = [\n                        '/output/',\n                        '/ldraw/',\n                        '/ldraw/p/',\n                        '/ldraw/parts/'\n                    ];\n                    // If the URL already has a valid prefix, clean it up\n                    for (const prefix of pathPrefixes){\n                        if (normalized.includes(prefix)) {\n                            // Clean up any duplicate path segments\n                            normalized = normalized.replace(/\\/ldraw\\/parts\\/parts\\//g, '/ldraw/parts/');\n                            normalized = normalized.replace(/\\/ldraw\\/p\\/p\\//g, '/ldraw/p/');\n                            normalized = normalized.replace(/\\/output\\/output\\//g, '/output/');\n                            // Remove any redundant path combinations but preserve s/ subdirectory\n                            if (!normalized.includes('/s/')) {\n                                normalized = normalized.replace(/\\/ldraw\\/parts\\/p\\//g, '/ldraw/p/');\n                                normalized = normalized.replace(/\\/output\\/p\\//g, '/ldraw/p/');\n                                normalized = normalized.replace(/\\/ldraw\\/p\\/parts\\//g, '/ldraw/parts/');\n                                normalized = normalized.replace(/\\/output\\/parts\\//g, '/ldraw/parts/');\n                            } else {\n                                // Handle subparts in s/ directory\n                                normalized = normalized.replace(/\\/ldraw\\/parts\\/parts\\/s\\//g, '/ldraw/parts/s/');\n                                normalized = normalized.replace(/\\/ldraw\\/p\\/parts\\/s\\//g, '/ldraw/parts/s/');\n                                normalized = normalized.replace(/\\/output\\/parts\\/s\\//g, '/ldraw/parts/s/');\n                            }\n                            // console.log('Normalized URL:', normalized);\n                            return normalized;\n                        }\n                    }\n                    // If no valid prefix found, try to construct the path\n                    // This handles cases where the URL is just a filename or relative path\n                    if (!normalized.startsWith('/ldraw/')) {\n                        // Handle subparts (files in s/ directory)\n                        if (hasSubdir) {\n                            normalized = `/ldraw/parts/s/${filename}`;\n                        } else if (filename.match(/^\\d/) || filename.startsWith('stud') || filename.startsWith('edge')) {\n                            normalized = `/ldraw/p/${filename}`;\n                        } else if (filename.endsWith('.dat')) {\n                            normalized = `/ldraw/parts/${filename}`;\n                        } else if (filename.endsWith('.ldr') || filename.endsWith('.mpd')) {\n                            normalized = `/output/${filename}`;\n                        }\n                    // console.log('Constructed URL:', normalized);\n                    }\n                    return normalized;\n                }\n            }[\"LDRViewerComponent.useEffect\"]);\n            loadingManagerRef.current = manager;\n            return ({\n                \"LDRViewerComponent.useEffect\": ()=>{\n                    manager.setURLModifier(undefined);\n                    loadingManagerRef.current = null;\n                }\n            })[\"LDRViewerComponent.useEffect\"];\n        }\n    }[\"LDRViewerComponent.useEffect\"], []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LDRViewerComponent.useEffect\": ()=>{\n            if (!containerRef.current || isInitializedRef.current) return;\n            isInitializedRef.current = true;\n            const container = containerRef.current;\n            const width = container.clientWidth;\n            const height = container.clientHeight;\n            const scene = new three__WEBPACK_IMPORTED_MODULE_2__.Scene();\n            scene.background = new three__WEBPACK_IMPORTED_MODULE_2__.Color(0xeeeeee);\n            sceneRef.current = scene;\n            const camera = new three__WEBPACK_IMPORTED_MODULE_2__.PerspectiveCamera(45, width / height, 1, 5000);\n            camera.position.set(300, 400, 700);\n            cameraRef.current = camera;\n            const renderer = new three__WEBPACK_IMPORTED_MODULE_2__.WebGLRenderer({\n                antialias: true\n            });\n            renderer.setSize(width, height);\n            renderer.setPixelRatio(window.devicePixelRatio);\n            container.appendChild(renderer.domElement);\n            rendererRef.current = renderer;\n            const controls = new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_3__.OrbitControls(camera, renderer.domElement);\n            controls.enableDamping = true;\n            controls.dampingFactor = 0.05;\n            controls.enablePan = true;\n            controls.enableRotate = true;\n            controls.enableZoom = true;\n            controls.screenSpacePanning = false;\n            controls.minDistance = 10;\n            controls.maxDistance = 2000;\n            controls.target.set(0, 0, 0);\n            controlsRef.current = controls;\n            // Enhanced lighting for better visibility\n            scene.add(new three__WEBPACK_IMPORTED_MODULE_2__.AmbientLight(0xffffff, 0.9)); // Brighter ambient light\n            // Main directional light\n            const dirLight = new three__WEBPACK_IMPORTED_MODULE_2__.DirectionalLight(0xffffff, 1.0);\n            dirLight.position.set(500, 1000, 500);\n            dirLight.castShadow = false;\n            scene.add(dirLight);\n            // Additional fill lights from different angles\n            const fillLight1 = new three__WEBPACK_IMPORTED_MODULE_2__.DirectionalLight(0xffffff, 0.5);\n            fillLight1.position.set(-500, 500, -500);\n            scene.add(fillLight1);\n            const fillLight2 = new three__WEBPACK_IMPORTED_MODULE_2__.DirectionalLight(0xffffff, 0.5);\n            fillLight2.position.set(500, 500, -500);\n            scene.add(fillLight2);\n            // Add a hemisphere light for more natural lighting\n            const hemiLight = new three__WEBPACK_IMPORTED_MODULE_2__.HemisphereLight(0xffffff, 0xcccccc, 0.4);\n            hemiLight.position.set(0, 500, 0);\n            scene.add(hemiLight);\n            // Grid helper removed\n            // const gridHelper = new THREE.GridHelper(1000, 20);\n            // scene.add(gridHelper);\n            // Add axes helper\n            const axesHelper = new three__WEBPACK_IMPORTED_MODULE_2__.AxesHelper(500);\n            scene.add(axesHelper);\n            const handleResize = {\n                \"LDRViewerComponent.useEffect.handleResize\": ()=>{\n                    if (!containerRef.current || !cameraRef.current || !rendererRef.current) return;\n                    const w = containerRef.current.clientWidth;\n                    const h = containerRef.current.clientHeight;\n                    rendererRef.current.setSize(w, h);\n                    cameraRef.current.aspect = w / h;\n                    cameraRef.current.updateProjectionMatrix();\n                }\n            }[\"LDRViewerComponent.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize);\n            // Animation loop is now handled in the cube effect\n            console.log('Scene initialized');\n            return ({\n                \"LDRViewerComponent.useEffect\": ()=>{\n                    window.removeEventListener('resize', handleResize);\n                // Keep renderer intact but clean up event listener\n                // if (rendererRef.current && containerRef.current) {\n                //   containerRef.current.removeChild(rendererRef.current.domElement);\n                //   rendererRef.current.dispose();\n                // }\n                // isInitializedRef.current = false;\n                }\n            })[\"LDRViewerComponent.useEffect\"];\n        }\n    }[\"LDRViewerComponent.useEffect\"], []);\n    // Animation loop - using useRef to ensure single instance\n    const animationIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const isAnimatingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LDRViewerComponent.useEffect\": ()=>{\n            if (!sceneRef.current || !rendererRef.current || !cameraRef.current || !controlsRef.current) return;\n            // Prevent multiple animation loops\n            if (isAnimatingRef.current) {\n                console.log('Animation already running, skipping...');\n                return;\n            }\n            // Commented out cancellation\n            // if (animationIdRef.current !== null) {\n            //   cancelAnimationFrame(animationIdRef.current);\n            // }\n            isAnimatingRef.current = true;\n            const animate = {\n                \"LDRViewerComponent.useEffect.animate\": ()=>{\n                    if (!isAnimatingRef.current) return;\n                    animationIdRef.current = requestAnimationFrame(animate);\n                    if (!controlsRef.current || !rendererRef.current || !sceneRef.current || !cameraRef.current) return;\n                    // Update controls and render\n                    controlsRef.current.update();\n                    rendererRef.current.render(sceneRef.current, cameraRef.current);\n                }\n            }[\"LDRViewerComponent.useEffect.animate\"];\n            // Start the animation loop\n            animate();\n            console.log('Animation loop started');\n            return ({\n                \"LDRViewerComponent.useEffect\": ()=>{\n                // Commented out animation cleanup to keep it running\n                // isAnimatingRef.current = false;\n                // if (animationIdRef.current !== null) {\n                //   cancelAnimationFrame(animationIdRef.current);\n                //   animationIdRef.current = null;\n                // }\n                }\n            })[\"LDRViewerComponent.useEffect\"];\n        }\n    }[\"LDRViewerComponent.useEffect\"], []);\n    // Test cube commented out - LEGO model should load instead\n    /*\r\n  const cubeRef = useRef<THREE.Mesh | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!sceneRef.current) return;\r\n\r\n    // Prevent adding cube multiple times\r\n    if (cubeRef.current) return;\r\n\r\n    // Add a simple red cube that we know works\r\n    const geometry = new THREE.BoxGeometry(30, 30, 30);\r\n    const material = new THREE.MeshPhongMaterial({\r\n      color: 0xff0000,\r\n      side: THREE.DoubleSide\r\n    });\r\n    const cube = new THREE.Mesh(geometry, material);\r\n    cube.position.set(0, 300, 0);\r\n\r\n    sceneRef.current.add(cube);\r\n\r\n    cubeRef.current = cube;\r\n    console.log('Simple test cube added at:', cube.position);\r\n    console.log('Scene now has', sceneRef.current.children.length, 'children');\r\n\r\n    return () => {\r\n      // Commented out cleanup to keep the cube visible\r\n      // if (sceneRef.current && cube) {\r\n      //   sceneRef.current.remove(cube);  // Also need to prevent removal from scene\r\n      //   geometry.dispose();\r\n      //   material.dispose();\r\n      // }\r\n      // cubeRef.current = null;\r\n    };\r\n  }, []);\r\n  */ // Cube animation commented out since cube is removed\n    /*\r\n  useEffect(() => {\r\n    const animate = () => {\r\n      if (cubeRef.current) {\r\n        cubeRef.current.rotation.x += 0.01;\r\n        cubeRef.current.rotation.y += 0.01;\r\n      }\r\n    };\r\n\r\n    const id = setInterval(animate, 16); // ~60fps\r\n\r\n    // Commented out interval cleanup\r\n    // return () => clearInterval(id);\r\n    return () => {};\r\n  }, []);\r\n  */ // LEGO LOADING CODE\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LDRViewerComponent.useEffect\": ()=>{\n            if (!modelPath || !sceneRef.current || !rendererRef.current || !cameraRef.current) return;\n            // Skip if we're already loading this exact model\n            if (currentModelPathRef.current === modelPath && isLoadingRef.current) {\n                console.log('Same model already loading, skipping...');\n                return;\n            }\n            // Skip if this model is already loaded\n            if (currentModelPathRef.current === modelPath && modelGroupRef.current) {\n                console.log('Model already loaded, skipping...');\n                return;\n            }\n            // Prevent concurrent loads\n            if (isLoadingRef.current) {\n                console.log('Another model is loading, skipping...');\n                return;\n            }\n            // Clean up previous model\n            if (modelGroupRef.current) {\n                sceneRef.current.remove(modelGroupRef.current);\n                modelGroupRef.current = null;\n            }\n            // Prevent multiple loads of the same model\n            let cancelled = false;\n            isLoadingRef.current = true;\n            currentModelPathRef.current = modelPath;\n            const loader = new three_examples_jsm_loaders_LDrawLoader_js__WEBPACK_IMPORTED_MODULE_4__.LDrawLoader(loadingManagerRef.current ?? undefined);\n            // Set the parts library path to the ldraw directory\n            loader.setPartsLibraryPath('/ldraw/');\n            // Set the file map for better part resolution\n            loader.setFileMap({});\n            // Set the conditional line material class (not an instance)\n            loader.setConditionalLineMaterial(three_examples_jsm_materials_LDrawConditionalLineMaterial_js__WEBPACK_IMPORTED_MODULE_5__.LDrawConditionalLineMaterial);\n            console.log('Loading LDR file:', modelPath);\n            // Try to preload materials first, but don't fail if it doesn't work\n            const materialsPromise = loader.preloadMaterials('/ldraw/LDConfig.ldr').then({\n                \"LDRViewerComponent.useEffect.materialsPromise\": ()=>{\n                    console.log('Materials preloaded successfully');\n                }\n            }[\"LDRViewerComponent.useEffect.materialsPromise\"]).catch({\n                \"LDRViewerComponent.useEffect.materialsPromise\": (err)=>{\n                    console.warn('Could not preload materials, using defaults:', err.message);\n                }\n            }[\"LDRViewerComponent.useEffect.materialsPromise\"]);\n            // Load the model (wait for materials if possible, but don't block)\n            Promise.all([\n                materialsPromise\n            ]).then({\n                \"LDRViewerComponent.useEffect\": ()=>{\n                    if (cancelled) return;\n                    return loader.loadAsync(modelPath);\n                }\n            }[\"LDRViewerComponent.useEffect\"]).then({\n                \"LDRViewerComponent.useEffect\": (group)=>{\n                    if (!group || cancelled) return;\n                    console.log('Model loaded successfully:', group);\n                    isLoadingRef.current = false;\n                    // Fix null materials issue\n                    group.traverse({\n                        \"LDRViewerComponent.useEffect\": (child)=>{\n                            if (child.isMesh) {\n                                const mesh = child;\n                                if (!mesh.material) {\n                                    // Create a default material if missing\n                                    mesh.material = new three__WEBPACK_IMPORTED_MODULE_2__.MeshPhongMaterial({\n                                        color: 0x808080,\n                                        side: three__WEBPACK_IMPORTED_MODULE_2__.DoubleSide\n                                    });\n                                    console.log('Added default material to mesh:', mesh.name);\n                                } else if (Array.isArray(mesh.material)) {\n                                    // Check array of materials\n                                    mesh.material = mesh.material.map({\n                                        \"LDRViewerComponent.useEffect\": (mat)=>{\n                                            if (!mat) {\n                                                console.log('Replacing null material in array');\n                                                return new three__WEBPACK_IMPORTED_MODULE_2__.MeshPhongMaterial({\n                                                    color: 0x808080,\n                                                    side: three__WEBPACK_IMPORTED_MODULE_2__.DoubleSide\n                                                });\n                                            }\n                                            return mat;\n                                        }\n                                    }[\"LDRViewerComponent.useEffect\"]);\n                                }\n                            }\n                        }\n                    }[\"LDRViewerComponent.useEffect\"]);\n                    // Position model at origin and rotate 180 degrees\n                    group.position.set(0, 0, 0);\n                    // group.rotation.x = Math.PI; // Rotate 180 degrees around X axis\n                    modelGroupRef.current = group;\n                    if (sceneRef.current) {\n                        sceneRef.current.add(group);\n                        console.log('Model added to scene');\n                        console.log('Group children:', group.children.length);\n                        console.log('Group visible:', group.visible);\n                        console.log('Group in scene:', sceneRef.current.children.includes(group));\n                        // Make sure the group is visible\n                        group.visible = true;\n                        group.traverse({\n                            \"LDRViewerComponent.useEffect\": (child)=>{\n                                child.visible = true;\n                            }\n                        }[\"LDRViewerComponent.useEffect\"]);\n                        // Count visible meshes and check materials\n                        let meshCount = 0;\n                        let visibleCount = 0;\n                        group.traverse({\n                            \"LDRViewerComponent.useEffect\": (child)=>{\n                                if (child.isMesh) {\n                                    meshCount++;\n                                    const mesh = child;\n                                    if (mesh.visible) visibleCount++;\n                                    if (!mesh.geometry.boundingBox) {\n                                        mesh.geometry.computeBoundingBox();\n                                    }\n                                    // Log mesh details\n                                    console.log('Mesh details:', {\n                                        name: mesh.name,\n                                        visible: mesh.visible,\n                                        material: mesh.material,\n                                        geometryVertices: mesh.geometry.attributes.position?.count || 0,\n                                        position: mesh.position,\n                                        scale: mesh.scale\n                                    });\n                                    // Make sure mesh has a material\n                                    if (!mesh.material) {\n                                        console.warn('Mesh has no material, adding default');\n                                        mesh.material = new three__WEBPACK_IMPORTED_MODULE_2__.MeshPhongMaterial({\n                                            color: 0xff0000,\n                                            side: three__WEBPACK_IMPORTED_MODULE_2__.DoubleSide\n                                        });\n                                    }\n                                }\n                            }\n                        }[\"LDRViewerComponent.useEffect\"]);\n                        console.log(`Found ${meshCount} meshes, ${visibleCount} visible`);\n                    // Test cube removed - rendering verified to be working\n                    // const testGeometry = new THREE.BoxGeometry(50, 50, 50);\n                    // const testMaterial = new THREE.MeshPhongMaterial({ color: 0x00ff00 });\n                    // const testCube = new THREE.Mesh(testGeometry, testMaterial);\n                    // testCube.position.set(100, 25, 0);\n                    // sceneRef.current.add(testCube);\n                    // console.log('Test cube added at:', testCube.position);\n                    }\n                    // Force update matrices before calculating bounding box\n                    group.updateMatrixWorld(true);\n                    // Calculate bounding box and center camera\n                    const box = new three__WEBPACK_IMPORTED_MODULE_2__.Box3().setFromObject(group);\n                    const center = box.getCenter(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3());\n                    const size = box.getSize(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3());\n                    // Log model information\n                    if (!box.isEmpty() && size.x > 0 && size.y > 0 && size.z > 0) {\n                        console.log('Model center:', center.x, center.y, center.z);\n                        console.log('Model size:', size.x, size.y, size.z);\n                    } else {\n                        console.warn('Model has empty/invalid bounding box');\n                    }\n                    if (controlsRef.current) {\n                        // Just update controls to look at origin\n                        controlsRef.current.target.set(0, 0, 0);\n                        controlsRef.current.update();\n                    }\n                    // The animation loop will handle rendering\n                    console.log('Scene children:', sceneRef.current?.children.length || 0);\n                }\n            }[\"LDRViewerComponent.useEffect\"]).catch({\n                \"LDRViewerComponent.useEffect\": (error)=>{\n                    if (cancelled) return;\n                    console.error('Error loading model:', error);\n                    console.error('Model path:', modelPath);\n                    console.error('Stack trace:', error.stack);\n                    isLoadingRef.current = false;\n                }\n            }[\"LDRViewerComponent.useEffect\"]);\n            // Cleanup function - only remove model if path changes or component unmounts\n            return ({\n                \"LDRViewerComponent.useEffect\": ()=>{\n                    cancelled = true;\n                // Don't clear the model here - it will be cleared when a new model loads\n                // or when the component unmounts\n                }\n            })[\"LDRViewerComponent.useEffect\"];\n        }\n    }[\"LDRViewerComponent.useEffect\"], [\n        modelPath\n    ]);\n    // Clean up model when component unmounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LDRViewerComponent.useEffect\": ()=>{\n            return ({\n                \"LDRViewerComponent.useEffect\": ()=>{\n                    if (modelGroupRef.current && sceneRef.current) {\n                        sceneRef.current.remove(modelGroupRef.current);\n                        modelGroupRef.current = null;\n                    }\n                    isLoadingRef.current = false;\n                    currentModelPathRef.current = '';\n                }\n            })[\"LDRViewerComponent.useEffect\"];\n        }\n    }[\"LDRViewerComponent.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        style: {\n            width: '100%',\n            height: '600px',\n            border: '1px solid #ccc',\n            borderRadius: '8px',\n            overflow: 'hidden'\n        }\n    }, void 0, false, {\n        fileName: \"/Users/gnome/lego/brickyard/components/LDRViewer.tsx\",\n        lineNumber: 519,\n        columnNumber: 5\n    }, undefined);\n};\nconst LDRViewer = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(LDRViewerComponent);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LDRViewer);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL2NvbXBvbmVudHMvTERSVmlld2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ3hCO0FBQzhDO0FBQ0w7QUFDb0M7QUFNNUcsTUFBTVEscUJBQStDLENBQUMsRUFBRUMsU0FBUyxFQUFFO0lBQ2pFLE1BQU1DLGVBQWVSLDZDQUFNQSxDQUFpQjtJQUM1QyxNQUFNUyxXQUFXVCw2Q0FBTUEsQ0FBcUI7SUFDNUMsTUFBTVUsY0FBY1YsNkNBQU1BLENBQTZCO0lBQ3ZELE1BQU1XLFlBQVlYLDZDQUFNQSxDQUFpQztJQUN6RCxNQUFNWSxjQUFjWiw2Q0FBTUEsQ0FBdUI7SUFDakQsTUFBTWEsZ0JBQWdCYiw2Q0FBTUEsQ0FBcUI7SUFDakQsTUFBTWMsb0JBQW9CZCw2Q0FBTUEsQ0FBOEI7SUFDOUQsTUFBTWUsZUFBZWYsNkNBQU1BLENBQVU7SUFDckMsTUFBTWdCLHNCQUFzQmhCLDZDQUFNQSxDQUFTO0lBQzNDLE1BQU1pQixtQkFBbUJqQiw2Q0FBTUEsQ0FBVTtJQUV6QyxtQ0FBbUM7SUFDbkNELGdEQUFTQTt3Q0FBQztZQUNSLElBQUllLGtCQUFrQkksT0FBTyxFQUFFO1lBRS9CLE1BQU1DLFVBQVUsSUFBSWpCLGlEQUFvQjtZQUV4Qyx3RUFBd0U7WUFDeEVpQixRQUFRRSxjQUFjO2dEQUFDLENBQUNDO29CQUN0QixxQ0FBcUM7b0JBRXJDLDRCQUE0QjtvQkFDNUIsSUFBSUMsYUFBYUQsSUFBSUUsT0FBTyxDQUFDLE9BQU87b0JBRXBDLG1FQUFtRTtvQkFDbkUsSUFBSUQsV0FBV0UsUUFBUSxDQUFDLFNBQVNGLFdBQVdHLEtBQUssQ0FBQyxZQUFZO3dCQUM1RCxNQUFNQyxRQUFRSixXQUFXSyxLQUFLLENBQUM7d0JBQy9CLE1BQU1DLFVBQVVGLE1BQU1HLEtBQUssQ0FBQyxDQUFDO3dCQUM3QixJQUFJRCxPQUFPLENBQUMsRUFBRSxLQUFLLEtBQUs7NEJBQ3RCLDhCQUE4Qjs0QkFDOUJOLGFBQWEsQ0FB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QUNSQyxjQUFjO1lBQ2RDLFVBQVU7UUFDWjs7Ozs7O0FBR047QUFFQSxNQUFNQywwQkFBWWpLLDJDQUFJQSxDQUFDSztBQUN2QixpRUFBZTRKLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9nbm9tZS9sZWdvL2JyaWNreWFyZC9jb21wb25lbnRzL0xEUlZpZXdlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCBtZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XHJcbmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvT3JiaXRDb250cm9scy5qcyc7XHJcbmltcG9ydCB7IExEcmF3TG9hZGVyIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xvYWRlcnMvTERyYXdMb2FkZXIuanMnO1xyXG5pbXBvcnQgeyBMRHJhd0NvbmRpdGlvbmFsTGluZU1hdGVyaWFsIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL21hdGVyaWFscy9MRHJhd0NvbmRpdGlvbmFsTGluZU1hdGVyaWFsLmpzJztcclxuXHJcbmludGVyZmFjZSBMRFJWaWV3ZXJQcm9wcyB7XHJcbiAgbW9kZWxQYXRoOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IExEUlZpZXdlckNvbXBvbmVudDogUmVhY3QuRkM8TERSVmlld2VyUHJvcHM+ID0gKHsgbW9kZWxQYXRoIH0pID0+IHtcclxuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IHNjZW5lUmVmID0gdXNlUmVmPFRIUkVFLlNjZW5lIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgcmVuZGVyZXJSZWYgPSB1c2VSZWY8VEhSRUUuV2ViR0xSZW5kZXJlciB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGNhbWVyYVJlZiA9IHVzZVJlZjxUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IGNvbnRyb2xzUmVmID0gdXNlUmVmPE9yYml0Q29udHJvbHMgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBtb2RlbEdyb3VwUmVmID0gdXNlUmVmPFRIUkVFLkdyb3VwIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgbG9hZGluZ01hbmFnZXJSZWYgPSB1c2VSZWY8VEhSRUUuTG9hZGluZ01hbmFnZXIgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBpc0xvYWRpbmdSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IGN1cnJlbnRNb2RlbFBhdGhSZWYgPSB1c2VSZWY8c3RyaW5nPignJyk7XHJcbiAgY29uc3QgaXNJbml0aWFsaXplZFJlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XHJcblxyXG4gIC8vIENyZWF0ZSBsb2FkaW5nIG1hbmFnZXIgb25seSBvbmNlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChsb2FkaW5nTWFuYWdlclJlZi5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgbWFuYWdlciA9IG5ldyBUSFJFRS5Mb2FkaW5nTWFuYWdlcigpO1xyXG5cclxuICAgIC8vIEltcGxlbWVudCBwYXRoIHJlc29sdXRpb24gc3RyYXRlZ3kgc2ltaWxhciB0byBUaHJlZS5qcyBwYWNrTERyYXdNb2RlbFxyXG4gICAgbWFuYWdlci5zZXRVUkxNb2RpZmllcigodXJsKSA9PiB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdPcmlnaW5hbCBVUkw6JywgdXJsKTtcclxuXHJcbiAgICAgIC8vIE5vcm1hbGl6ZSBwYXRoIHNlcGFyYXRvcnNcclxuICAgICAgbGV0IG5vcm1hbGl6ZWQgPSB1cmwucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xyXG5cclxuICAgICAgLy8gSGFuZGxlIHNcXCBwcmVmaXggZm9yIHN1YnBhcnRzIChjb252ZXJ0IHNcXGZpbGUuZGF0IHRvIHMvZmlsZS5kYXQpXHJcbiAgICAgIGlmIChub3JtYWxpemVkLmluY2x1ZGVzKCdzLycpIHx8IG5vcm1hbGl6ZWQubWF0Y2goL3NbXFxcXFxcL10vKSkge1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0gbm9ybWFsaXplZC5zcGxpdCgvW1xcXFxcXC9dLyk7XHJcbiAgICAgICAgY29uc3QgbGFzdFR3byA9IHBhcnRzLnNsaWNlKC0yKTtcclxuICAgICAgICBpZiAobGFzdFR3b1swXSA9PT0gJ3MnKSB7XHJcbiAgICAgICAgICAvLyBUaGlzIGlzIGEgc3VicGFydCByZWZlcmVuY2VcclxuICAgICAgICAgIG5vcm1hbGl6ZWQgPSBgL2xkcmF3L3BhcnRzL3MvJHtsYXN0VHdvWzFdfWA7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnU3VicGFydCBkZXRlY3RlZCwgbm9ybWFsaXplZCB0bzonLCBub3JtYWxpemVkKTtcclxuICAgICAgICAgIHJldHVybiBub3JtYWxpemVkO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRXh0cmFjdCB0aGUgZmlsZW5hbWUgYW5kIGNoZWNrIGZvciBzdWJkaXJlY3RvcnkgKGxpa2Ugcy8pXHJcbiAgICAgIGNvbnN0IHVybFBhcnRzID0gbm9ybWFsaXplZC5zcGxpdCgnLycpO1xyXG4gICAgICBjb25zdCBmaWxlbmFtZSA9IHVybFBhcnRzW3VybFBhcnRzLmxlbmd0aCAtIDFdLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgIGNvbnN0IGhhc1N1YmRpciA9IHVybFBhcnRzLmxlbmd0aCA+PSAyICYmIHVybFBhcnRzW3VybFBhcnRzLmxlbmd0aCAtIDJdID09PSAncyc7XHJcblxyXG4gICAgICAvLyBEZWZpbmUgcG9zc2libGUgcGF0aCBwcmVmaXhlcyB0byB0cnlcclxuICAgICAgY29uc3QgcGF0aFByZWZpeGVzID0gW1xyXG4gICAgICAgICcvb3V0cHV0LycsICAgICAgICAgIC8vIE91dHB1dCBkaXJlY3RvcnkgZm9yIGdlbmVyYXRlZCBtb2RlbHNcclxuICAgICAgICAnL2xkcmF3LycsICAgICAgICAgICAvLyBEaXJlY3QgcGF0aFxyXG4gICAgICAgICcvbGRyYXcvcC8nLCAgICAgICAgIC8vIFByaW1pdGl2ZXNcclxuICAgICAgICAnL2xkcmF3L3BhcnRzLycsICAgICAvLyBQYXJ0c1xyXG4gICAgICBdO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIFVSTCBhbHJlYWR5IGhhcyBhIHZhbGlkIHByZWZpeCwgY2xlYW4gaXQgdXBcclxuICAgICAgZm9yIChjb25zdCBwcmVmaXggb2YgcGF0aFByZWZpeGVzKSB7XHJcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWQuaW5jbHVkZXMocHJlZml4KSkge1xyXG4gICAgICAgICAgLy8gQ2xlYW4gdXAgYW55IGR1cGxpY2F0ZSBwYXRoIHNlZ21lbnRzXHJcbiAgICAgICAgICBub3JtYWxpemVkID0gbm9ybWFsaXplZC5yZXBsYWNlKC9cXC9sZHJhd1xcL3BhcnRzXFwvcGFydHNcXC8vZywgJy9sZHJhdy9wYXJ0cy8nKTtcclxuICAgICAgICAgIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVkLnJlcGxhY2UoL1xcL2xkcmF3XFwvcFxcL3BcXC8vZywgJy9sZHJhdy9wLycpO1xyXG4gICAgICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvXFwvb3V0cHV0XFwvb3V0cHV0XFwvL2csICcvb3V0cHV0LycpO1xyXG5cclxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgcmVkdW5kYW50IHBhdGggY29tYmluYXRpb25zIGJ1dCBwcmVzZXJ2ZSBzLyBzdWJkaXJlY3RvcnlcclxuICAgICAgICAgIGlmICghbm9ybWFsaXplZC5pbmNsdWRlcygnL3MvJykpIHtcclxuICAgICAgICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvXFwvbGRyYXdcXC9wYXJ0c1xcL3BcXC8vZywgJy9sZHJhdy9wLycpO1xyXG4gICAgICAgICAgICBub3JtYWxpemVkID0gbm9ybWFsaXplZC5yZXBsYWNlKC9cXC9vdXRwdXRcXC9wXFwvL2csICcvbGRyYXcvcC8nKTtcclxuICAgICAgICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvXFwvbGRyYXdcXC9wXFwvcGFydHNcXC8vZywgJy9sZHJhdy9wYXJ0cy8nKTtcclxuICAgICAgICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvXFwvb3V0cHV0XFwvcGFydHNcXC8vZywgJy9sZHJhdy9wYXJ0cy8nKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSBzdWJwYXJ0cyBpbiBzLyBkaXJlY3RvcnlcclxuICAgICAgICAgICAgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQucmVwbGFjZSgvXFwvbGRyYXdcXC9wYXJ0c1xcL3BhcnRzXFwvc1xcLy9nLCAnL2xkcmF3L3BhcnRzL3MvJyk7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVkLnJlcGxhY2UoL1xcL2xkcmF3XFwvcFxcL3BhcnRzXFwvc1xcLy9nLCAnL2xkcmF3L3BhcnRzL3MvJyk7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVkLnJlcGxhY2UoL1xcL291dHB1dFxcL3BhcnRzXFwvc1xcLy9nLCAnL2xkcmF3L3BhcnRzL3MvJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ05vcm1hbGl6ZWQgVVJMOicsIG5vcm1hbGl6ZWQpO1xyXG4gICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBubyB2YWxpZCBwcmVmaXggZm91bmQsIHRyeSB0byBjb25zdHJ1Y3QgdGhlIHBhdGhcclxuICAgICAgLy8gVGhpcyBoYW5kbGVzIGNhc2VzIHdoZXJlIHRoZSBVUkwgaXMganVzdCBhIGZpbGVuYW1lIG9yIHJlbGF0aXZlIHBhdGhcclxuICAgICAgaWYgKCFub3JtYWxpemVkLnN0YXJ0c1dpdGgoJy9sZHJhdy8nKSkge1xyXG4gICAgICAgIC8vIEhhbmRsZSBzdWJwYXJ0cyAoZmlsZXMgaW4gcy8gZGlyZWN0b3J5KVxyXG4gICAgICAgIGlmIChoYXNTdWJkaXIpIHtcclxuICAgICAgICAgIG5vcm1hbGl6ZWQgPSBgL2xkcmF3L3BhcnRzL3MvJHtmaWxlbmFtZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGEgcHJpbWl0aXZlICh1c3VhbGx5IHN0YXJ0IHdpdGggbnVtYmVycyBvciBzcGVjaWZpYyBwYXR0ZXJucylcclxuICAgICAgICBlbHNlIGlmIChmaWxlbmFtZS5tYXRjaCgvXlxcZC8pIHx8IGZpbGVuYW1lLnN0YXJ0c1dpdGgoJ3N0dWQnKSB8fCBmaWxlbmFtZS5zdGFydHNXaXRoKCdlZGdlJykpIHtcclxuICAgICAgICAgIG5vcm1hbGl6ZWQgPSBgL2xkcmF3L3AvJHtmaWxlbmFtZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEZWZhdWx0IHRvIHBhcnRzIGRpcmVjdG9yeSBmb3Igb3RoZXIgLmRhdCBmaWxlc1xyXG4gICAgICAgIGVsc2UgaWYgKGZpbGVuYW1lLmVuZHNXaXRoKCcuZGF0JykpIHtcclxuICAgICAgICAgIG5vcm1hbGl6ZWQgPSBgL2xkcmF3L3BhcnRzLyR7ZmlsZW5hbWV9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRm9yIExEUiBmaWxlcywgdXNlIG91dHB1dCBkaXJlY3RvcnlcclxuICAgICAgICBlbHNlIGlmIChmaWxlbmFtZS5lbmRzV2l0aCgnLmxkcicpIHx8IGZpbGVuYW1lLmVuZHNXaXRoKCcubXBkJykpIHtcclxuICAgICAgICAgIG5vcm1hbGl6ZWQgPSBgL291dHB1dC8ke2ZpbGVuYW1lfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdDb25zdHJ1Y3RlZCBVUkw6Jywgbm9ybWFsaXplZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBub3JtYWxpemVkO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbG9hZGluZ01hbmFnZXJSZWYuY3VycmVudCA9IG1hbmFnZXI7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgbWFuYWdlci5zZXRVUkxNb2RpZmllcih1bmRlZmluZWQpO1xyXG4gICAgICBsb2FkaW5nTWFuYWdlclJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFjb250YWluZXJSZWYuY3VycmVudCB8fCBpc0luaXRpYWxpemVkUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICBpc0luaXRpYWxpemVkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG5cclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lclJlZi5jdXJyZW50O1xyXG4gICAgY29uc3Qgd2lkdGggPSBjb250YWluZXIuY2xpZW50V2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xyXG5cclxuICAgIGNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XHJcbiAgICBzY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKDB4ZWVlZWVlKTtcclxuICAgIHNjZW5lUmVmLmN1cnJlbnQgPSBzY2VuZTtcclxuXHJcbiAgICBjb25zdCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpZHRoIC8gaGVpZ2h0LCAxLCA1MDAwKTtcclxuICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoMzAwLCA0MDAsIDcwMCk7XHJcbiAgICBjYW1lcmFSZWYuY3VycmVudCA9IGNhbWVyYTtcclxuXHJcbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlIH0pO1xyXG4gICAgcmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIHJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG4gICAgcmVuZGVyZXJSZWYuY3VycmVudCA9IHJlbmRlcmVyO1xyXG5cclxuICAgIGNvbnN0IGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KTtcclxuICAgIGNvbnRyb2xzLmVuYWJsZURhbXBpbmcgPSB0cnVlO1xyXG4gICAgY29udHJvbHMuZGFtcGluZ0ZhY3RvciA9IDAuMDU7XHJcbiAgICBjb250cm9scy5lbmFibGVQYW4gPSB0cnVlO1xyXG4gICAgY29udHJvbHMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgIGNvbnRyb2xzLmVuYWJsZVpvb20gPSB0cnVlO1xyXG4gICAgY29udHJvbHMuc2NyZWVuU3BhY2VQYW5uaW5nID0gZmFsc2U7XHJcbiAgICBjb250cm9scy5taW5EaXN0YW5jZSA9IDEwO1xyXG4gICAgY29udHJvbHMubWF4RGlzdGFuY2UgPSAyMDAwO1xyXG4gICAgY29udHJvbHMudGFyZ2V0LnNldCgwLCAwLCAwKTtcclxuICAgIGNvbnRyb2xzUmVmLmN1cnJlbnQgPSBjb250cm9scztcclxuXHJcbiAgICAvLyBFbmhhbmNlZCBsaWdodGluZyBmb3IgYmV0dGVyIHZpc2liaWxpdHlcclxuICAgIHNjZW5lLmFkZChuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAwLjkpKTsgLy8gQnJpZ2h0ZXIgYW1iaWVudCBsaWdodFxyXG5cclxuICAgIC8vIE1haW4gZGlyZWN0aW9uYWwgbGlnaHRcclxuICAgIGNvbnN0IGRpckxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDEuMCk7XHJcbiAgICBkaXJMaWdodC5wb3NpdGlvbi5zZXQoNTAwLCAxMDAwLCA1MDApO1xyXG4gICAgZGlyTGlnaHQuY2FzdFNoYWRvdyA9IGZhbHNlO1xyXG4gICAgc2NlbmUuYWRkKGRpckxpZ2h0KTtcclxuXHJcbiAgICAvLyBBZGRpdGlvbmFsIGZpbGwgbGlnaHRzIGZyb20gZGlmZmVyZW50IGFuZ2xlc1xyXG4gICAgY29uc3QgZmlsbExpZ2h0MSA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAwLjUpO1xyXG4gICAgZmlsbExpZ2h0MS5wb3NpdGlvbi5zZXQoLTUwMCwgNTAwLCAtNTAwKTtcclxuICAgIHNjZW5lLmFkZChmaWxsTGlnaHQxKTtcclxuXHJcbiAgICBjb25zdCBmaWxsTGlnaHQyID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDAuNSk7XHJcbiAgICBmaWxsTGlnaHQyLnBvc2l0aW9uLnNldCg1MDAsIDUwMCwgLTUwMCk7XHJcbiAgICBzY2VuZS5hZGQoZmlsbExpZ2h0Mik7XHJcblxyXG4gICAgLy8gQWRkIGEgaGVtaXNwaGVyZSBsaWdodCBmb3IgbW9yZSBuYXR1cmFsIGxpZ2h0aW5nXHJcbiAgICBjb25zdCBoZW1pTGlnaHQgPSBuZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0KDB4ZmZmZmZmLCAweGNjY2NjYywgMC40KTtcclxuICAgIGhlbWlMaWdodC5wb3NpdGlvbi5zZXQoMCwgNTAwLCAwKTtcclxuICAgIHNjZW5lLmFkZChoZW1pTGlnaHQpO1xyXG5cclxuICAgIC8vIEdyaWQgaGVscGVyIHJlbW92ZWRcclxuICAgIC8vIGNvbnN0IGdyaWRIZWxwZXIgPSBuZXcgVEhSRUUuR3JpZEhlbHBlcigxMDAwLCAyMCk7XHJcbiAgICAvLyBzY2VuZS5hZGQoZ3JpZEhlbHBlcik7XHJcblxyXG4gICAgLy8gQWRkIGF4ZXMgaGVscGVyXHJcbiAgICBjb25zdCBheGVzSGVscGVyID0gbmV3IFRIUkVFLkF4ZXNIZWxwZXIoNTAwKTtcclxuICAgIHNjZW5lLmFkZChheGVzSGVscGVyKTtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgIGlmICghY29udGFpbmVyUmVmLmN1cnJlbnQgfHwgIWNhbWVyYVJlZi5jdXJyZW50IHx8ICFyZW5kZXJlclJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICAgIGNvbnN0IHcgPSBjb250YWluZXJSZWYuY3VycmVudC5jbGllbnRXaWR0aDtcclxuICAgICAgY29uc3QgaCA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmNsaWVudEhlaWdodDtcclxuICAgICAgcmVuZGVyZXJSZWYuY3VycmVudC5zZXRTaXplKHcsIGgpO1xyXG4gICAgICBjYW1lcmFSZWYuY3VycmVudC5hc3BlY3QgPSB3IC8gaDtcclxuICAgICAgY2FtZXJhUmVmLmN1cnJlbnQudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKTtcclxuXHJcbiAgICAvLyBBbmltYXRpb24gbG9vcCBpcyBub3cgaGFuZGxlZCBpbiB0aGUgY3ViZSBlZmZlY3RcclxuICAgIGNvbnNvbGUubG9nKCdTY2VuZSBpbml0aWFsaXplZCcpO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xyXG4gICAgICAvLyBLZWVwIHJlbmRlcmVyIGludGFjdCBidXQgY2xlYW4gdXAgZXZlbnQgbGlzdGVuZXJcclxuICAgICAgLy8gaWYgKHJlbmRlcmVyUmVmLmN1cnJlbnQgJiYgY29udGFpbmVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgLy8gICBjb250YWluZXJSZWYuY3VycmVudC5yZW1vdmVDaGlsZChyZW5kZXJlclJlZi5jdXJyZW50LmRvbUVsZW1lbnQpO1xyXG4gICAgICAvLyAgIHJlbmRlcmVyUmVmLmN1cnJlbnQuZGlzcG9zZSgpO1xyXG4gICAgICAvLyB9XHJcbiAgICAgIC8vIGlzSW5pdGlhbGl6ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIEFuaW1hdGlvbiBsb29wIC0gdXNpbmcgdXNlUmVmIHRvIGVuc3VyZSBzaW5nbGUgaW5zdGFuY2VcclxuICBjb25zdCBhbmltYXRpb25JZFJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBpc0FuaW1hdGluZ1JlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIXNjZW5lUmVmLmN1cnJlbnQgfHwgIXJlbmRlcmVyUmVmLmN1cnJlbnQgfHwgIWNhbWVyYVJlZi5jdXJyZW50IHx8ICFjb250cm9sc1JlZi5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgLy8gUHJldmVudCBtdWx0aXBsZSBhbmltYXRpb24gbG9vcHNcclxuICAgIGlmIChpc0FuaW1hdGluZ1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdBbmltYXRpb24gYWxyZWFkeSBydW5uaW5nLCBza2lwcGluZy4uLicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tbWVudGVkIG91dCBjYW5jZWxsYXRpb25cclxuICAgIC8vIGlmIChhbmltYXRpb25JZFJlZi5jdXJyZW50ICE9PSBudWxsKSB7XHJcbiAgICAvLyAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbklkUmVmLmN1cnJlbnQpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIGlzQW5pbWF0aW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG5cclxuICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XHJcbiAgICAgIGlmICghaXNBbmltYXRpbmdSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICBhbmltYXRpb25JZFJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xyXG4gICAgICBpZiAoIWNvbnRyb2xzUmVmLmN1cnJlbnQgfHwgIXJlbmRlcmVyUmVmLmN1cnJlbnQgfHwgIXNjZW5lUmVmLmN1cnJlbnQgfHwgIWNhbWVyYVJlZi5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgICAvLyBVcGRhdGUgY29udHJvbHMgYW5kIHJlbmRlclxyXG4gICAgICBjb250cm9sc1JlZi5jdXJyZW50LnVwZGF0ZSgpO1xyXG4gICAgICByZW5kZXJlclJlZi5jdXJyZW50LnJlbmRlcihzY2VuZVJlZi5jdXJyZW50LCBjYW1lcmFSZWYuY3VycmVudCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFN0YXJ0IHRoZSBhbmltYXRpb24gbG9vcFxyXG4gICAgYW5pbWF0ZSgpO1xyXG4gICAgY29uc29sZS5sb2coJ0FuaW1hdGlvbiBsb29wIHN0YXJ0ZWQnKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAvLyBDb21tZW50ZWQgb3V0IGFuaW1hdGlvbiBjbGVhbnVwIHRvIGtlZXAgaXQgcnVubmluZ1xyXG4gICAgICAvLyBpc0FuaW1hdGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIC8vIGlmIChhbmltYXRpb25JZFJlZi5jdXJyZW50ICE9PSBudWxsKSB7XHJcbiAgICAgIC8vICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uSWRSZWYuY3VycmVudCk7XHJcbiAgICAgIC8vICAgYW5pbWF0aW9uSWRSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIC8vIH1cclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBUZXN0IGN1YmUgY29tbWVudGVkIG91dCAtIExFR08gbW9kZWwgc2hvdWxkIGxvYWQgaW5zdGVhZFxyXG4gIC8qXHJcbiAgY29uc3QgY3ViZVJlZiA9IHVzZVJlZjxUSFJFRS5NZXNoIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIXNjZW5lUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyBQcmV2ZW50IGFkZGluZyBjdWJlIG11bHRpcGxlIHRpbWVzXHJcbiAgICBpZiAoY3ViZVJlZi5jdXJyZW50KSByZXR1cm47XHJcblxyXG4gICAgLy8gQWRkIGEgc2ltcGxlIHJlZCBjdWJlIHRoYXQgd2Uga25vdyB3b3Jrc1xyXG4gICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMzAsIDMwLCAzMCk7XHJcbiAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7XHJcbiAgICAgIGNvbG9yOiAweGZmMDAwMCxcclxuICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZVxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjdWJlID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcclxuICAgIGN1YmUucG9zaXRpb24uc2V0KDAsIDMwMCwgMCk7XHJcblxyXG4gICAgc2NlbmVSZWYuY3VycmVudC5hZGQoY3ViZSk7XHJcblxyXG4gICAgY3ViZVJlZi5jdXJyZW50ID0gY3ViZTtcclxuICAgIGNvbnNvbGUubG9nKCdTaW1wbGUgdGVzdCBjdWJlIGFkZGVkIGF0OicsIGN1YmUucG9zaXRpb24pO1xyXG4gICAgY29uc29sZS5sb2coJ1NjZW5lIG5vdyBoYXMnLCBzY2VuZVJlZi5jdXJyZW50LmNoaWxkcmVuLmxlbmd0aCwgJ2NoaWxkcmVuJyk7XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgLy8gQ29tbWVudGVkIG91dCBjbGVhbnVwIHRvIGtlZXAgdGhlIGN1YmUgdmlzaWJsZVxyXG4gICAgICAvLyBpZiAoc2NlbmVSZWYuY3VycmVudCAmJiBjdWJlKSB7XHJcbiAgICAgIC8vICAgc2NlbmVSZWYuY3VycmVudC5yZW1vdmUoY3ViZSk7ICAvLyBBbHNvIG5lZWQgdG8gcHJldmVudCByZW1vdmFsIGZyb20gc2NlbmVcclxuICAgICAgLy8gICBnZW9tZXRyeS5kaXNwb3NlKCk7XHJcbiAgICAgIC8vICAgbWF0ZXJpYWwuZGlzcG9zZSgpO1xyXG4gICAgICAvLyB9XHJcbiAgICAgIC8vIGN1YmVSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuICAqL1xyXG5cclxuICAvLyBDdWJlIGFuaW1hdGlvbiBjb21tZW50ZWQgb3V0IHNpbmNlIGN1YmUgaXMgcmVtb3ZlZFxyXG4gIC8qXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XHJcbiAgICAgIGlmIChjdWJlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjdWJlUmVmLmN1cnJlbnQucm90YXRpb24ueCArPSAwLjAxO1xyXG4gICAgICAgIGN1YmVSZWYuY3VycmVudC5yb3RhdGlvbi55ICs9IDAuMDE7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaWQgPSBzZXRJbnRlcnZhbChhbmltYXRlLCAxNik7IC8vIH42MGZwc1xyXG5cclxuICAgIC8vIENvbW1lbnRlZCBvdXQgaW50ZXJ2YWwgY2xlYW51cFxyXG4gICAgLy8gcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaWQpO1xyXG4gICAgcmV0dXJuICgpID0+IHt9O1xyXG4gIH0sIFtdKTtcclxuICAqL1xyXG5cclxuICAvLyBMRUdPIExPQURJTkcgQ09ERVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIW1vZGVsUGF0aCB8fCAhc2NlbmVSZWYuY3VycmVudCB8fCAhcmVuZGVyZXJSZWYuY3VycmVudCB8fCAhY2FtZXJhUmVmLmN1cnJlbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyBTa2lwIGlmIHdlJ3JlIGFscmVhZHkgbG9hZGluZyB0aGlzIGV4YWN0IG1vZGVsXHJcbiAgICBpZiAoY3VycmVudE1vZGVsUGF0aFJlZi5jdXJyZW50ID09PSBtb2RlbFBhdGggJiYgaXNMb2FkaW5nUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1NhbWUgbW9kZWwgYWxyZWFkeSBsb2FkaW5nLCBza2lwcGluZy4uLicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2tpcCBpZiB0aGlzIG1vZGVsIGlzIGFscmVhZHkgbG9hZGVkXHJcbiAgICBpZiAoY3VycmVudE1vZGVsUGF0aFJlZi5jdXJyZW50ID09PSBtb2RlbFBhdGggJiYgbW9kZWxHcm91cFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdNb2RlbCBhbHJlYWR5IGxvYWRlZCwgc2tpcHBpbmcuLi4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXZlbnQgY29uY3VycmVudCBsb2Fkc1xyXG4gICAgaWYgKGlzTG9hZGluZ1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdBbm90aGVyIG1vZGVsIGlzIGxvYWRpbmcsIHNraXBwaW5nLi4uJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDbGVhbiB1cCBwcmV2aW91cyBtb2RlbFxyXG4gICAgaWYgKG1vZGVsR3JvdXBSZWYuY3VycmVudCkge1xyXG4gICAgICBzY2VuZVJlZi5jdXJyZW50LnJlbW92ZShtb2RlbEdyb3VwUmVmLmN1cnJlbnQpO1xyXG4gICAgICBtb2RlbEdyb3VwUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXZlbnQgbXVsdGlwbGUgbG9hZHMgb2YgdGhlIHNhbWUgbW9kZWxcclxuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcclxuICAgIGlzTG9hZGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIGN1cnJlbnRNb2RlbFBhdGhSZWYuY3VycmVudCA9IG1vZGVsUGF0aDtcclxuXHJcbiAgICBjb25zdCBsb2FkZXIgPSBuZXcgTERyYXdMb2FkZXIobG9hZGluZ01hbmFnZXJSZWYuY3VycmVudCA/PyB1bmRlZmluZWQpO1xyXG5cclxuICAgIC8vIFNldCB0aGUgcGFydHMgbGlicmFyeSBwYXRoIHRvIHRoZSBsZHJhdyBkaXJlY3RvcnlcclxuICAgIGxvYWRlci5zZXRQYXJ0c0xpYnJhcnlQYXRoKCcvbGRyYXcvJyk7XHJcblxyXG4gICAgLy8gU2V0IHRoZSBmaWxlIG1hcCBmb3IgYmV0dGVyIHBhcnQgcmVzb2x1dGlvblxyXG4gICAgbG9hZGVyLnNldEZpbGVNYXAoe30pO1xyXG5cclxuICAgIC8vIFNldCB0aGUgY29uZGl0aW9uYWwgbGluZSBtYXRlcmlhbCBjbGFzcyAobm90IGFuIGluc3RhbmNlKVxyXG4gICAgbG9hZGVyLnNldENvbmRpdGlvbmFsTGluZU1hdGVyaWFsKExEcmF3Q29uZGl0aW9uYWxMaW5lTWF0ZXJpYWwpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdMb2FkaW5nIExEUiBmaWxlOicsIG1vZGVsUGF0aCk7XHJcblxyXG4gICAgLy8gVHJ5IHRvIHByZWxvYWQgbWF0ZXJpYWxzIGZpcnN0LCBidXQgZG9uJ3QgZmFpbCBpZiBpdCBkb2Vzbid0IHdvcmtcclxuICAgIGNvbnN0IG1hdGVyaWFsc1Byb21pc2UgPSBsb2FkZXIucHJlbG9hZE1hdGVyaWFscygnL2xkcmF3L0xEQ29uZmlnLmxkcicpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnTWF0ZXJpYWxzIHByZWxvYWRlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBwcmVsb2FkIG1hdGVyaWFscywgdXNpbmcgZGVmYXVsdHM6JywgZXJyLm1lc3NhZ2UpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAvLyBMb2FkIHRoZSBtb2RlbCAod2FpdCBmb3IgbWF0ZXJpYWxzIGlmIHBvc3NpYmxlLCBidXQgZG9uJ3QgYmxvY2spXHJcbiAgICBQcm9taXNlLmFsbChbbWF0ZXJpYWxzUHJvbWlzZV0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBpZiAoY2FuY2VsbGVkKSByZXR1cm47XHJcbiAgICAgICAgcmV0dXJuIGxvYWRlci5sb2FkQXN5bmMobW9kZWxQYXRoKTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKGdyb3VwKSA9PiB7XHJcbiAgICAgICAgaWYgKCFncm91cCB8fCBjYW5jZWxsZWQpIHJldHVybjtcclxuICAgICAgICBjb25zb2xlLmxvZygnTW9kZWwgbG9hZGVkIHN1Y2Nlc3NmdWxseTonLCBncm91cCk7XHJcbiAgICAgICAgaXNMb2FkaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gRml4IG51bGwgbWF0ZXJpYWxzIGlzc3VlXHJcbiAgICAgICAgZ3JvdXAudHJhdmVyc2UoKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICBpZiAoKGNoaWxkIGFzIGFueSkuaXNNZXNoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc2ggPSBjaGlsZCBhcyBUSFJFRS5NZXNoO1xyXG4gICAgICAgICAgICBpZiAoIW1lc2gubWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBkZWZhdWx0IG1hdGVyaWFsIGlmIG1pc3NpbmdcclxuICAgICAgICAgICAgICBtZXNoLm1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAweDgwODA4MCxcclxuICAgICAgICAgICAgICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGVcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQWRkZWQgZGVmYXVsdCBtYXRlcmlhbCB0byBtZXNoOicsIG1lc2gubmFtZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShtZXNoLm1hdGVyaWFsKSkge1xyXG4gICAgICAgICAgICAgIC8vIENoZWNrIGFycmF5IG9mIG1hdGVyaWFsc1xyXG4gICAgICAgICAgICAgIG1lc2gubWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsLm1hcCgobWF0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW1hdCkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVwbGFjaW5nIG51bGwgbWF0ZXJpYWwgaW4gYXJyYXknKTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IDB4ODA4MDgwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGVcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0O1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFBvc2l0aW9uIG1vZGVsIGF0IG9yaWdpbiBhbmQgcm90YXRlIDE4MCBkZWdyZWVzXHJcbiAgICAgICAgZ3JvdXAucG9zaXRpb24uc2V0KDAsIDAsIDApO1xyXG4gICAgICAgIC8vIGdyb3VwLnJvdGF0aW9uLnggPSBNYXRoLlBJOyAvLyBSb3RhdGUgMTgwIGRlZ3JlZXMgYXJvdW5kIFggYXhpc1xyXG4gICAgICAgIG1vZGVsR3JvdXBSZWYuY3VycmVudCA9IGdyb3VwO1xyXG5cclxuICAgICAgICBpZiAoc2NlbmVSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgc2NlbmVSZWYuY3VycmVudC5hZGQoZ3JvdXApO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ01vZGVsIGFkZGVkIHRvIHNjZW5lJyk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnR3JvdXAgY2hpbGRyZW46JywgZ3JvdXAuY2hpbGRyZW4ubGVuZ3RoKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdHcm91cCB2aXNpYmxlOicsIGdyb3VwLnZpc2libGUpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0dyb3VwIGluIHNjZW5lOicsIHNjZW5lUmVmLmN1cnJlbnQuY2hpbGRyZW4uaW5jbHVkZXMoZ3JvdXApKTtcclxuXHJcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGdyb3VwIGlzIHZpc2libGVcclxuICAgICAgICAgIGdyb3VwLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgZ3JvdXAudHJhdmVyc2UoKGNoaWxkKSA9PiB7XHJcbiAgICAgICAgICAgIGNoaWxkLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgLy8gQ291bnQgdmlzaWJsZSBtZXNoZXMgYW5kIGNoZWNrIG1hdGVyaWFsc1xyXG4gICAgICAgICAgbGV0IG1lc2hDb3VudCA9IDA7XHJcbiAgICAgICAgICBsZXQgdmlzaWJsZUNvdW50ID0gMDtcclxuICAgICAgICAgIGdyb3VwLnRyYXZlcnNlKChjaGlsZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoKGNoaWxkIGFzIGFueSkuaXNNZXNoKSB7XHJcbiAgICAgICAgICAgICAgbWVzaENvdW50Kys7XHJcbiAgICAgICAgICAgICAgY29uc3QgbWVzaCA9IGNoaWxkIGFzIFRIUkVFLk1lc2g7XHJcbiAgICAgICAgICAgICAgaWYgKG1lc2gudmlzaWJsZSkgdmlzaWJsZUNvdW50Kys7XHJcblxyXG4gICAgICAgICAgICAgIGlmICghbWVzaC5nZW9tZXRyeS5ib3VuZGluZ0JveCkge1xyXG4gICAgICAgICAgICAgICAgbWVzaC5nZW9tZXRyeS5jb21wdXRlQm91bmRpbmdCb3goKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIExvZyBtZXNoIGRldGFpbHNcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTWVzaCBkZXRhaWxzOicsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IG1lc2gubmFtZSxcclxuICAgICAgICAgICAgICAgIHZpc2libGU6IG1lc2gudmlzaWJsZSxcclxuICAgICAgICAgICAgICAgIG1hdGVyaWFsOiBtZXNoLm1hdGVyaWFsLFxyXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnlWZXJ0aWNlczogbWVzaC5nZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uPy5jb3VudCB8fCAwLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG1lc2gucG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICBzY2FsZTogbWVzaC5zY2FsZVxyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgbWVzaCBoYXMgYSBtYXRlcmlhbFxyXG4gICAgICAgICAgICAgIGlmICghbWVzaC5tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNZXNoIGhhcyBubyBtYXRlcmlhbCwgYWRkaW5nIGRlZmF1bHQnKTtcclxuICAgICAgICAgICAgICAgIG1lc2gubWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogMHhmZjAwMDAsXHJcbiAgICAgICAgICAgICAgICAgIHNpZGU6IFRIUkVFLkRvdWJsZVNpZGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHttZXNoQ291bnR9IG1lc2hlcywgJHt2aXNpYmxlQ291bnR9IHZpc2libGVgKTtcclxuXHJcbiAgICAgICAgICAvLyBUZXN0IGN1YmUgcmVtb3ZlZCAtIHJlbmRlcmluZyB2ZXJpZmllZCB0byBiZSB3b3JraW5nXHJcbiAgICAgICAgICAvLyBjb25zdCB0ZXN0R2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoNTAsIDUwLCA1MCk7XHJcbiAgICAgICAgICAvLyBjb25zdCB0ZXN0TWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBjb2xvcjogMHgwMGZmMDAgfSk7XHJcbiAgICAgICAgICAvLyBjb25zdCB0ZXN0Q3ViZSA9IG5ldyBUSFJFRS5NZXNoKHRlc3RHZW9tZXRyeSwgdGVzdE1hdGVyaWFsKTtcclxuICAgICAgICAgIC8vIHRlc3RDdWJlLnBvc2l0aW9uLnNldCgxMDAsIDI1LCAwKTtcclxuICAgICAgICAgIC8vIHNjZW5lUmVmLmN1cnJlbnQuYWRkKHRlc3RDdWJlKTtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdUZXN0IGN1YmUgYWRkZWQgYXQ6JywgdGVzdEN1YmUucG9zaXRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRm9yY2UgdXBkYXRlIG1hdHJpY2VzIGJlZm9yZSBjYWxjdWxhdGluZyBib3VuZGluZyBib3hcclxuICAgICAgICBncm91cC51cGRhdGVNYXRyaXhXb3JsZCh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGJvdW5kaW5nIGJveCBhbmQgY2VudGVyIGNhbWVyYVxyXG4gICAgICAgIGNvbnN0IGJveCA9IG5ldyBUSFJFRS5Cb3gzKCkuc2V0RnJvbU9iamVjdChncm91cCk7XHJcbiAgICAgICAgY29uc3QgY2VudGVyID0gYm94LmdldENlbnRlcihuZXcgVEhSRUUuVmVjdG9yMygpKTtcclxuICAgICAgICBjb25zdCBzaXplID0gYm94LmdldFNpemUobmV3IFRIUkVFLlZlY3RvcjMoKSk7XHJcblxyXG4gICAgICAgIC8vIExvZyBtb2RlbCBpbmZvcm1hdGlvblxyXG4gICAgICAgIGlmICghYm94LmlzRW1wdHkoKSAmJiBzaXplLnggPiAwICYmIHNpemUueSA+IDAgJiYgc2l6ZS56ID4gMCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ01vZGVsIGNlbnRlcjonLCBjZW50ZXIueCwgY2VudGVyLnksIGNlbnRlci56KTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdNb2RlbCBzaXplOicsIHNpemUueCwgc2l6ZS55LCBzaXplLnopO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ01vZGVsIGhhcyBlbXB0eS9pbnZhbGlkIGJvdW5kaW5nIGJveCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbnRyb2xzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIC8vIEp1c3QgdXBkYXRlIGNvbnRyb2xzIHRvIGxvb2sgYXQgb3JpZ2luXHJcbiAgICAgICAgICBjb250cm9sc1JlZi5jdXJyZW50LnRhcmdldC5zZXQoMCwgMCwgMCk7XHJcbiAgICAgICAgICBjb250cm9sc1JlZi5jdXJyZW50LnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVGhlIGFuaW1hdGlvbiBsb29wIHdpbGwgaGFuZGxlIHJlbmRlcmluZ1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTY2VuZSBjaGlsZHJlbjonLCBzY2VuZVJlZi5jdXJyZW50Py5jaGlsZHJlbi5sZW5ndGggfHwgMCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICBpZiAoY2FuY2VsbGVkKSByZXR1cm47XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBtb2RlbDonLCBlcnJvcik7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignTW9kZWwgcGF0aDonLCBtb2RlbFBhdGgpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0YWNrIHRyYWNlOicsIGVycm9yLnN0YWNrKTtcclxuICAgICAgICBpc0xvYWRpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uIC0gb25seSByZW1vdmUgbW9kZWwgaWYgcGF0aCBjaGFuZ2VzIG9yIGNvbXBvbmVudCB1bm1vdW50c1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY2FuY2VsbGVkID0gdHJ1ZTtcclxuICAgICAgLy8gRG9uJ3QgY2xlYXIgdGhlIG1vZGVsIGhlcmUgLSBpdCB3aWxsIGJlIGNsZWFyZWQgd2hlbiBhIG5ldyBtb2RlbCBsb2Fkc1xyXG4gICAgICAvLyBvciB3aGVuIHRoZSBjb21wb25lbnQgdW5tb3VudHNcclxuICAgIH07XHJcbiAgfSwgW21vZGVsUGF0aF0pO1xyXG5cclxuICAvLyBDbGVhbiB1cCBtb2RlbCB3aGVuIGNvbXBvbmVudCB1bm1vdW50c1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAobW9kZWxHcm91cFJlZi5jdXJyZW50ICYmIHNjZW5lUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBzY2VuZVJlZi5jdXJyZW50LnJlbW92ZShtb2RlbEdyb3VwUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgIG1vZGVsR3JvdXBSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgaXNMb2FkaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgY3VycmVudE1vZGVsUGF0aFJlZi5jdXJyZW50ID0gJyc7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXZcclxuICAgICAgcmVmPXtjb250YWluZXJSZWZ9XHJcbiAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBoZWlnaHQ6ICc2MDBweCcsXHJcbiAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICNjY2MnLFxyXG4gICAgICAgIGJvcmRlclJhZGl1czogJzhweCcsXHJcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXHJcbiAgICAgIH19XHJcbiAgICAvPlxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBMRFJWaWV3ZXIgPSBtZW1vKExEUlZpZXdlckNvbXBvbmVudCk7XHJcbmV4cG9ydCBkZWZhdWx0IExEUlZpZXdlcjtcclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwibWVtbyIsIlRIUkVFIiwiT3JiaXRDb250cm9scyIsIkxEcmF3TG9hZGVyIiwiTERyYXdDb25kaXRpb25hbExpbmVNYXRlcmlhbCIsIkxEUlZpZXdlckNvbXBvbmVudCIsIm1vZGVsUGF0aCIsImNvbnRhaW5lclJlZiIsInNjZW5lUmVmIiwicmVuZGVyZXJSZWYiLCJjYW1lcmFSZWYiLCJjb250cm9sc1JlZiIsIm1vZGVsR3JvdXBSZWYiLCJsb2FkaW5nTWFuYWdlclJlZiIsImlzTG9hZGluZ1JlZiIsImN1cnJlbnRNb2RlbFBhdGhSZWYiLCJpc0luaXRpYWxpemVkUmVmIiwiY3VycmVudCIsIm1hbmFnZXIiLCJMb2FkaW5nTWFuYWdlciIsInNldFVSTE1vZGlmaWVyIiwidXJsIiwibm9ybWFsaXplZCIsInJlcGxhY2UiLCJpbmNsdWRlcyIsIm1hdGNoIiwicGFydHMiLCJzcGxpdCIsImxhc3RUd28iLCJzbGljZSIsInVybFBhcnRzIiwiZmlsZW5hbWUiLCJsZW5ndGgiLCJ0b0xvd2VyQ2FzZSIsImhhc1N1YmRpciIsInBhdGhQcmVmaXhlcyIsInByZWZpeCIsInN0YXJ0c1dpdGgiLCJlbmRzV2l0aCIsInVuZGVmaW5lZCIsImNvbnRhaW5lciIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJzY2VuZSIsIlNjZW5lIiwiYmFja2dyb3VuZCIsIkNvbG9yIiwiY2FtZXJhIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJwb3NpdGlvbiIsInNldCIsInJlbmRlcmVyIiwiV2ViR0xSZW5kZXJlciIsImFudGlhbGlhcyIsInNldFNpemUiLCJzZXRQaXhlbFJhdGlvIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsImNvbnRyb2xzIiwiZW5hYmxlRGFtcGluZyIsImRhbXBpbmdGYWN0b3IiLCJlbmFibGVQYW4iLCJlbmFibGVSb3RhdGUiLCJlbmFibGVab29tIiwic2NyZWVuU3BhY2VQYW5uaW5nIiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsInRhcmdldCIsImFkZCIsIkFtYmllbnRMaWdodCIsImRpckxpZ2h0IiwiRGlyZWN0aW9uYWxMaWdodCIsImNhc3RTaGFkb3ciLCJmaWxsTGlnaHQxIiwiZmlsbExpZ2h0MiIsImhlbWlMaWdodCIsIkhlbWlzcGhlcmVMaWdodCIsImF4ZXNIZWxwZXIiLCJBeGVzSGVscGVyIiwiaGFuZGxlUmVzaXplIiwidyIsImgiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYW5pbWF0aW9uSWRSZWYiLCJpc0FuaW1hdGluZ1JlZiIsImFuaW1hdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1cGRhdGUiLCJyZW5kZXIiLCJyZW1vdmUiLCJjYW5jZWxsZWQiLCJsb2FkZXIiLCJzZXRQYXJ0c0xpYnJhcnlQYXRoIiwic2V0RmlsZU1hcCIsInNldENvbmRpdGlvbmFsTGluZU1hdGVyaWFsIiwibWF0ZXJpYWxzUHJvbWlzZSIsInByZWxvYWRNYXRlcmlhbHMiLCJ0aGVuIiwiY2F0Y2giLCJlcnIiLCJ3YXJuIiwibWVzc2FnZSIsIlByb21pc2UiLCJhbGwiLCJsb2FkQXN5bmMiLCJncm91cCIsInRyYXZlcnNlIiwiY2hpbGQiLCJpc01lc2giLCJtZXNoIiwibWF0ZXJpYWwiLCJNZXNoUGhvbmdNYXRlcmlhbCIsImNvbG9yIiwic2lkZSIsIkRvdWJsZVNpZGUiLCJuYW1lIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwibWF0IiwiY2hpbGRyZW4iLCJ2aXNpYmxlIiwibWVzaENvdW50IiwidmlzaWJsZUNvdW50IiwiZ2VvbWV0cnkiLCJib3VuZGluZ0JveCIsImNvbXB1dGVCb3VuZGluZ0JveCIsImdlb21ldHJ5VmVydGljZXMiLCJhdHRyaWJ1dGVzIiwiY291bnQiLCJzY2FsZSIsInVwZGF0ZU1hdHJpeFdvcmxkIiwiYm94IiwiQm94MyIsInNldEZyb21PYmplY3QiLCJjZW50ZXIiLCJnZXRDZW50ZXIiLCJWZWN0b3IzIiwic2l6ZSIsImdldFNpemUiLCJpc0VtcHR5IiwieCIsInkiLCJ6IiwiZXJyb3IiLCJzdGFjayIsImRpdiIsInJlZiIsInN0eWxlIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwib3ZlcmZsb3ciLCJMRFJWaWV3ZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./components/LDRViewer.tsx\n");

/***/ })

};
;